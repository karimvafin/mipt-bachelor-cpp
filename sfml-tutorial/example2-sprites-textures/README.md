# Пример 2: Текстуры и спрайты

**Время выполнения:** ~20 минут

## Цель

Научиться работать с текстурами и спрайтами: загружать изображения, создавать спрайты, позиционировать и трансформировать их.

## Что вы изучите

- Загрузка изображений в текстуры
- Создание спрайтов из текстур
- Позиционирование спрайтов
- Масштабирование и поворот
- Отрисовка спрайтов на экране

## Пошаговая инструкция

### Шаг 1: Загрузка текстуры

Текстура - это загруженное в память изображение:

```cpp
sf::Texture texture;
if (!texture.loadFromFile("resources/sprite.png"))
{
    // Обработка ошибки
    std::cout << "Не удалось загрузить изображение!" << std::endl;
}
```

**Важно:** Путь к файлу должен быть правильным относительно места запуска программы.

### Шаг 2: Создание спрайта

**КРИТИЧЕСКИ ВАЖНО для SFML 3.0:** Конструктор `sf::Sprite()` без аргументов удалён!

```cpp
// ❌ НЕ РАБОТАЕТ в SFML 3.0:
// sf::Sprite sprite;
// sprite.setTexture(texture);

// ✅ ПРАВИЛЬНО для SFML 3.0:
sf::Sprite sprite(texture);
```

### Шаг 3: Позиционирование

```cpp
// Установка позиции (левый верхний угол спрайта)
sprite.setPosition(100.0f, 200.0f);

// Получение текущей позиции
sf::Vector2f pos = sprite.getPosition();
```

### Шаг 4: Трансформации

```cpp
// Масштабирование
sprite.setScale(2.0f, 2.0f);  // Увеличить в 2 раза

// Поворот (в градусах)
sprite.setRotation(45.0f);

// Перемещение относительно текущей позиции
sprite.move(10.0f, 5.0f);
```

### Шаг 5: Отрисовка

```cpp
window.clear(sf::Color::Black);
window.draw(sprite);  // Рисуем спрайт
window.display();
```

## Структура проекта

```
example2-sprites-textures/
├── main.cpp
├── CMakeLists.txt
├── README.md
└── resources/
    └── sprite.png  # Ваше изображение (любое PNG)
```

## Сборка и запуск

```bash
mkdir build
cd build
cmake ..
make
./Example2_SpritesTextures
```

## Управление в примере

- **Стрелки** - перемещение спрайта
- **R** - поворот на 15 градусов
- **+/-** - увеличение/уменьшение масштаба
- **ESC** - выход

## Ключевые концепции

### Текстура vs Спрайт

- **Текстура** (`sf::Texture`) - это само изображение в памяти
- **Спрайт** (`sf::Sprite`) - это визуальное представление текстуры с позицией, масштабом и поворотом

Одна текстура может использоваться несколькими спрайтами!

```cpp
sf::Texture texture;
texture.loadFromFile("image.png");

sf::Sprite sprite1(texture);  // Первый спрайт
sf::Sprite sprite2(texture);  // Второй спрайт с той же текстурой

sprite1.setPosition(0, 0);
sprite2.setPosition(100, 100);
```

### Оптимизация

- Загружайте текстуру один раз и используйте для многих спрайтов
- Избегайте загрузки текстур в главном цикле
- Используйте `sf::Texture::create()` для создания текстур программно

## Упражнения

1. **Загрузка изображения**: Добавьте свое изображение в папку `resources/` и загрузите его
2. **Множественные спрайты**: Создайте 5 спрайтов с одной текстурой в разных позициях
3. **Анимация**: Реализуйте автоматическое вращение спрайта
4. **Границы**: Добавьте проверку, чтобы спрайт не выходил за границы окна

## Следующий шаг

Переходите к [Примеру 3: Создание кнопок](../example3-buttons/README.md)
